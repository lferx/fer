<apex:page Controller="ferc" showHeader="false" standardStylesheets="false">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/resource/BootstrapModalOnly/css/bootstrap.css"/>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"/>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="/resource/mtzauth/materializenew/css/materialize.css"/>


            <script>

                $(document).ready(function(){ 
                    // Materialize.updateTextFields();
                    $('[id*="cliente"]').val(null);
                    $('#xti').click(function() {
                        var rad = $('.form input:radio');
                        var sel = rad.index(rad.filter(':checked'));
                        sel += 1;

                    });

                    $('#xti').click(function() {

                        var rad = $('.form input:radio');
                        var sel = rad.index(rad.filter(':checked'));

                        sel += 2;
                       
                        $('.form input[type="radio"]:nth-of-type(' + sel + ')').prop('checked', true);
                           if ($('#two').prop('checked'))
                        {
                           
                            $('#dxi').show(); 

                        } 
                            });
                        $('#xdi').click(function()
                        {
                            $('#three').prop('checked',true);
                            $('#xdi').hide();
                            $('#dxi').hide();
                            $('#xpi').show();
                            var w=$('[id*="principal"]').val();
                            if (w=='Ofertas')
                            {
                                $('#gpvi').show();
                                $('#filesbtn').show();
                            }
                            else
                            {
                                $('#gpvi').hide();
                                $('#filesbtn').show();
                            }

                             if (w=='Rehabilitación')
                            {
                                $('#send').removeAttr('onclick');
                                $('#send').attr('onclick','rehab()');
                            }
                            else
                            {
                                $('#send').removeAttr('onclick');
                                $('#send').attr('onclick',"enviar(); $('#vprei').hide(); $('#back').hide(); source();");
                            }  


                                              
                        });
                        $('#xti').click(function()
                        {
                            $('#two').prop('checked');
                            $('#xti').hide();
                            // $('#myf2').prop('display',block);
                            var xx=$('[id*="ofertatipo"]').val();
                            var yy=$('[id*="monto"]').val();
                            var ww=$('[id*="principal"]').val();
                            if (xx!=''&&xx!=null&&yy!=null&&yy!=''&&ww=='Ofertas')
                            {
                                $('#xdi').show();
                            }
                            else
                            {
                                $('#xdi').hide();
                            }   
                                var xx=$('[id*="principal"]').val();
                                if (xx!='Ofertas'&&xx!='Gastos')
                                {
                                    $('#xdi').show();
                                }
                                if (xx=='Rehabilitación')
                                {
                                    $('#xdi').removeAttr('onclick');
                                    $('#xdi').attr('onclick','guardamerehab()');
                                }
                                else
                                {
                                    $('#xdi').removeAttr('onclick');
                                    $('#xdi').attr('onclick','Materialize.updateTextFields(); guardar();');
                                }              
                        });
                        $('#dxi').click(function()
                        {
                            $('#one').prop('checked');
                            $('#send').hide();
                        if ($('#one').prop('checked',true))
                        {
                            $('#dxi').hide(); 
                        }
                         if ($('#one').prop('checked'))
                        {
                            $('#xdi').hide();
                            $('#xti').show(); 

                        } 
                       
                        });
                         $('#xpi').click(function()
                        {   $('#send').hide();
                            $('#two').prop('checked');
                            $('#xdi').show();
                            $('#vprei').hide();
                            if ($('#two').prop('checked',true))
                        {
                            $('#xpi').hide(); 
                        }
                        if ($('#two').prop('checked'))
                        {
                            $('#dxi').show();
                        } 
                        });

  



                    $('#titulo').toggleClass('active').next('#contenido').slideToggle(600);
                    $('#titulo').click(function(e) {
                    e.preventDefault();
                    var x = $('.active').not(this);
                    x.toggleClass('active').next('#contenido').slideToggle(600);
                     $(this).toggleClass('active').nextbtn().slideToggle("fast");
                    });
           $('#cerrar').click(function() {
          $( this ).dialog( "cerrar" );
                                        });



              

                         
 $( function() {
    $( "#dialog" ).dialog({
      autoOpen: false,
      resizable: false, 
width: 160, 
height: 144, 
autoResize: true, 
modal: true, 
draggable: false,
show: {
effect: "fade",
        duration: 500
      },
      hide: {
        effect:"drop", duration: 600
        // effect: "transfer", to: "#send", className: "ui-effects-transfer",
        // duration: 100
      }
    });

    $( "#send" ).on( "click", function() {
      $( "#dialog" ).dialog( "open" );
    });
    });








      $( function() {
    // $( document ).tooltip();

      
  });





    });




                     
            </script>
            <script type="text/javascript">
            function lck(y)
            {
                if (y.selectedIndex >0)
                {
                    $('#xti').prop('disabled', false);
                }
                if (y.selectedIndex ==0)
                {
                $('#xti').prop('disabled', true);
                // $('#xti').attr('title', 'Tienes que seleccionar un tipo');
                }
                if (y.selectedIndex >1)
                {
                    $('#xdi').prop('disabled', false); 
                }
                if (y.selectedIndex ==1)
                {
                    $('#xdi').prop('disabled', true); 
                }
                if (y.selectedIndex ==3)
                {
                    $('#xdi').prop('disabled', true); 
                }
            }
            function blk(x)
            {
                if (x.value.length>0)
                {
                    $('#xdi').prop('disabled', false); 
                }
                else
                {
                    $('#xdi').prop('disabled', true); 
                }
            }

                function pdf()
                {
                    abrir();
                }
                    function modal()
                    {
                        alert('hola');
                    }

                function guardar()
                {        
                guardar();

                abrir();  

                }
                function guardamerehab()
                {        
                guardarehab();

                abrir();  

                }
         
                    function guardartipo()
                    {
                         guardartipo();
                    }
                function cerrar()
                {
                opener.location.reload();
                window.close();
                }
                    function generar() 
                    {
                       genera();
                        $('#vprei').show();  
                        $('#cbro').show();
                        $('#send').show();         
                    }
                function enviar()
                {
                    pendiente();
                }

            </script>
            <script type="text/javascript">
                $(document).ready(function() {
                Materialize.updateTextFields();
                });
            </script>

 <link href="https://fonts.googleapis.com/css?family=Hind+Vadodara|Maven+Pro|Quicksand" rel="stylesheet"/> 
<style type="text/css">
            @import url('https://fonts.googleapis.com/css?family=Poppins');
            @import url('https://fonts.googleapis.com/css?family=Dosis|Quicksand');
                @import url('https://fonts.googleapis.com/css?family=Indie+Flower|Kumar+One|Molle:400i');
            @font-face {
                font-family: "Bebas-Neue";
                src: url('{!URLFOR($Resource.consolas, 'recursos/fonts/BebasNeue.otf')}');
            }
            @font-face {
                font-family: "gotham-rounded-book";
                src: url('{!URLFOR($Resource.consolas, 'recursos/fonts/gotham-rounded-book.otf')}');
            }
            @font-face {
                font-family: "gotham-rounded-medium";
                src: url('{!URLFOR($Resource.consolas, 'recursos/fonts/gotham-rounded-medium.otf')}');
            }

*{
    font-family: 'Quicksand', sans-serif;
}
.ui-effects-transfer { border: 2.5px dotted gray; }
.stages {
    font-size: 0;
    text-align: justify;
    width: 100%;
}
 .stages label {
/*    font-family: 'Poppins', sans-serif;*/
    display: inline-block;
    width: 5em;
    font-size: 1em;
  }

.stages:after {
    content: '';
    display: inline-block;
    font-size: 0;
    text-align: justify;
    width: 100%;
}

input[type="radio"] {
    display: none;

}

.stages label {
    background: #ffffff;
    border: solid 1px #c0c0c0;
    border-radius: 50%;
    cursor: pointer;
    display: inline-block;
    font-size: 0;
    height: 110px;
    width: 110px;
    line-height: 50px;
    position: relative;
    text-align: center;
    vertical-align: top;
    z-index: 1;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}



#luno:after {
    display: flex;
    justify-content: center;
    margin-top: -65%;
    content: '\2713';
    color: #02B7EE;
    font-size: 30px;
}
#ldos:after {
    
    content: '\2713';
    color: #02B7EE;
    font-size: 30px;
    text-align: center;
    display: flex;
    justify-content: center;
    margin-top: -100%;
}


#one:checked ~ .stages label[for="one"],
#two:checked ~ .stages label[for="two"],
#three:checked ~ .stages label[for="three"] {
    border-color: #c0c0c0;
}

.stages label.active{
    border-color: purple !important;
}




#one:checked ~ .stages label[for="one"]
{
    color: #02B7EE;
/*    border-color: #0C326B;
    background-color: #0C326B;*/
/*    box-shadow: 2px 3px 1px 0px #c0c0c0;*/
    font-size: .9rem;
    line-height: 25px;
    text-align: center;
}
#two:checked ~ .stages label[for="two"]
{

    color: #02b7ee;
    border-color: #02B7EE;
    background-color: #ffffff;
    /* box-shadow: 0px 10px 0px -6px #c0c0c0; */
    font-size: .9rem;
    line-height: 110px;
    text-align: center;
}
#three:checked ~ .stages label[for="three"]
{

color: #02b7ee;
border-color: #02b7ee;
/*background-color: #6A0888;*/

/*box-shadow: -5px 4px 1px #c0c0c0;*/
font-size: .9rem;
    line-height: 110px;
    text-align: center;
}
#one:checked ~ .stages label:after,
#two:checked ~ .stages label[for="one"] ~ label:after,
#three:checked ~ .stages label[for="two"] ~ label:after,
#four:checked ~ .stages label[for="three"] ~ label:after {
    display: none;
}
#three:checked ~ .stages label[for="two"]
{
    color: transparent;
    border: 1px solid #02b7ee; 
}
.progress > span {
    background: #02b7ee;
    display: inline-block;
    height: 1px;
    transform: translateY(-3.75em);
    transition: 0.4s;
    width: 0;
}

#two:checked ~ .progress span {
    width: calc(100% / 2 * 1);
}

#three:checked ~ .progress span {
    width: calc(100% / 2 * 2);
}

.panels div:not(.input-field):not(#contenido) {
    display: none;
}

#one:checked ~ .panels [data-panel="one"],
#two:checked ~ .panels [data-panel="two"],
#three:checked ~ .panels [data-panel="three"]{
    display: block;
}





body {

    background-color: white;
    margin: 0;
    padding: 0 1em;
    font-family: 'Poppins', sans-serif;
}



}
h2 {
    margin-top: 0;
    font-size:9px;
}
#dialog {

    font-size:12px;
}
h2 {

    margin-top: 0;
    font-size:13px;
}
h3 {

    text-align: center;
    font-size:16px;
}
.form {
    background: #ffffff;
    margin: 1em;
    max-width: 100%;
    min-width: 480px;
    padding: 1em;
}
h6 {
    border: 1px solid #ccc;
    width: 120px;
    border-radius: 3px;
    overflow: hidden;

}
 h5 {
    
    font-size: 14px; 
    font-weight:bold;

}
h1 {
    font-size: 15px;
    overflow: hidden;
    font-family: 'Quicksand', sans-serif;
    border-spacing: 5px; 
    color: #061c3e;
}


.panels div:not(.input-field) {
    border-top: solid 1px #c0c0c0;
    margin: 1em 0 0;
    padding: 1em 0 0;
}
.fer:not(a), #tipof
{
    font-size: 13px;
    /*    padding: 5px 5px 5px 5px;*/
    display: block;
    width: 50%;
    border: none;
    border-bottom: 1px solid #79c4de;
    outline: none;
}
.lookupInput img {
    display: block;
}
/*.fer:hover:not([id$="cliente"]):not([id$="concepto"]){
    transform: translate(7%,8%)scale(1.2);
    transition: all .15s ease-out;

}*/
.fer4
{
    position: relative;
    cursor: pointer;
    border: none;
    border-bottom: 0.05px inset #9e9e9e;
    outline: none;
    height: 1.8rem;
    line-height: 1rem;
    width: 96%;
    font-size: 12px;
    margin: 5px 0 16px 0;
    padding: 0;
    border-color: #E6E5E5;}
    #primero
    {
        margin-top: -35px;
    }



/*form[id$="myf4"] a {
display: none;
}
*/
#vcarta, #vgastos
{
    margin-bottom: 6px;
    margin: auto;
    float: center;
}
/* #send{
    outline: none;
    position: initial;
    cursor: pointer;
    border: none;
    border: 0;
    border-radius: 15px;
    align-self: center;
    cursor: pointer;
    margin: 0em 1em 0em 0em;
    padding: .7em;
    color: #fffefe;
    background: #02b7ee;

}*/

#xdi, #dxi{
    left: 45%;
    margin-left: 8%;
    margin-right: 8%;
}

/*#send:hover{
  transform: translate(7%,8%)scale(1.1);
  background-size: 180%;
  background-position: 60% 0%;
  transition: all .15s ease-out;
box-shadow: 0 5px 5px 0 rgba(0,0,0,0.24), 0 8px 20px 0 rgba(0,0,0,0.19);
}*/
#titulo:hover
{
    box-shadow: inset 0 1px 6px rgba(0,0,0,0.1),0 0 10px rgba(20, 197, 255, 0.3);
    -moz-box-shadow: inset 0 1px 6px rgba(0,0,0,0.1),0 0 10px rgba(20, 197, 255, 0.3);
    -webkit-box-shadow: inset 0 1px 6px rgba(0,0,0,0.1),0 0 10px rgba(20, 197, 255, 0.3);
    border-color: #02B7EE;
    outline: none;
}

#contenido {
    margin-top: -50px;
    font-size: 13px;
    display: none;
    border: none;

}

#contenido p {
    font-size: 12px; 
        margin-top: -30px;

}

#ok{

    width: 38px;
    height: 38px;

      margin: -5px 5px 0px 0;
}
a.active {
    font-weight: bold;
}

#titulo {
    text-decoration: none;
    color: #333;
    font-size: 12px;
    line-height: 29px;
    padding: 25px,25px;
    display: block;
    border: 1px solid #d0d0d0;
    margin-top: 13px;
    margin-bottom: 25px;
    box-shadow: inset 0 1px 6px rgba(0,0,0,0.1),0 0 10px rgba(20, 197, 255, 0.3);
    -moz-box-shadow: inset 0 1px 6px rgba(0,0,0,0.1),0 0 10px rgba(20, 197, 255, 0.3);
    -webkit-box-shadow: inset 0 1px 6px rgba(0,0,0,0.1),0 0 10px rgba(20, 197, 255, 0.3);
    border-color: #02B7EE;
    outline: none;
    display: none;
}

#contenido p {
  margin: 25px;
  padding-bottom: 10px;
}
.fer2
{
    position: relative;
    cursor: pointer;
    border: none;
    border-bottom: 0.3px inset #9e9e9e;
    outline: none;
    height: 1rem;
    width: 100%;
    font-size: 12px;
    margin: 5px 5px 5px 0;
    padding: 0;
    display: block;
    border-color: #E6E5E5;
}

.fer5
{

    border: none;
    width: 96%;
    font-size: 12px;
    margin: 5px 5px 10px 0;
    border-color: #E6E5E5;
}
.fer3
{
    position: relative;
    cursor: pointer;
    border: none;
    border-bottom: 0.5px inset #9e9e9e;
    outline: none;
    height: 1rem;
    width: 96%;
    font-size: 12px;
    margin: 10px 10px 14px 0;
    padding: 0;
    border-color: #E6E5E5;
}

#ofertac 
{
    width: 100%;
}
#ofertac p
{
    margin-top: 1px;
    margin-bottom: -1em;
    text-align: center;
}
#pv 
{
    font-weight: bold;
    font-size: 14px;
}
#ofertac
{

}
#ofertac tr td
{
}
#f
{
   
}
#fgo, #f, #fg
{
    margin-top: 5px;
}
#luno
{
color: #0C326B;
border: 1px solid #02B7EE;
/*box-shadow: 3px 2px 2px #02b7ee;*/
}
#ldos
{
    color: #767474;
    font-size: 1rem;
/*    box-shadow: 0px 8px 1px -6px #02B7EE;*/
/*    border: 1px solid #02b7ee;*/
    line-height: 110px;
    text-align: center;
}
#ltre {

    color: #767474;
    line-height: 110px;
    font-size: 1rem;
/*    box-shadow: -4px 3px 1px #6A0888;*/
}

#myf2
{
width: 50%;
}

.labels
{
    width: 50%;
    font-size: 13px;
    position: initial;
}

.type
{
    outline: none;
    color: #000;
    width: 50%;
    height: 30px;
    appearance: none;
    -moz-appearance: none;
    -webkit-appearance: none;
    background: url(https://cdn0.iconfinder.com/data/icons/super-mono-basic/blue/toggle-down-alt_basic_blue.png) no-repeat right #fff;
    background-size: 26px 26px;
    margin: 5%;
}

.campos
{
    border: 1px;
    appearance: none;
    -moz-appearance: none;
    -webkit-appearance: none;
    color: #000;
    width: 30%;
    height: 20px;
}
.spanx
{
    width: 30%;
}
.message
{
width: 50%;
border: none;
background: rgb(255,255,255); /* Old browsers */
background: -moz-linear-gradient(top, rgba(255,255,255,1) 0%, rgba(246,246,246,1) 72%, rgba(237,237,237,1) 100%); /* FF3.6-15 */
background: -webkit-linear-gradient(top, rgba(255,255,255,1) 0%,rgba(246,246,246,1) 72%,rgba(237,237,237,1) 100%); /* Chrome10-25,Safari5.1-6 */
background: linear-gradient(to bottom, rgba(255,255,255,1) 0%,rgba(246,246,246,1) 72%,rgba(237,237,237,1) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
}
#tablita td
{
        font-size: 1em;
        text-align: center;
        font-family: 'Poppins', sans-serif !important;
        text-align: justify;
}
/*#tablita tr:first-child {
    background: linear-gradient(to bottom, rgba(125,185,232,0) 98%,rgba(125,185,232,1) 99%,rgba(125,185,232,1) 100%,rgba(125,185,232,1) 102%);
}*/
.ferofertax
{
    font-size: 13px;
    /*    padding: 5px 5px 5px 5px;*/
    display: block;
/*    width: 50%;*/
    border: none;
    border-bottom: 1px solid #79c4de;
    outline: none;
}
/*.fv
{
    background-color: #f1f1f1;
    border-radius: 10px 10px 10px 10px;
    background-size: 200px;
    padding: 4px 15px 4px 15px;
    font-weight: normal;
    color: #353434;
    font-size: 10px;
}*/
.feroferta
{
    font-size: 13px;
    /*    padding: 5px 5px 5px 5px;*/
    display: block;
/*    width: 50%;*/
    border: none;
    border-bottom: 1px solid #79c4de;
    outline: none;   
}
/*.feroferta2
{
    transition: all .3s ease-in-out;
    color: #000;
    text-align: center;
    background: #f1f1f1;
    line-height: 300%;
    border-radius: 15px;
    border: solid 1.5px #f0f0f3;  
        padding: 4px 15px 4px 15px;   
}*/
.feroferta3
{
    transition: all .3s ease-in-out;
    color: #fff;
    text-align: center;
    background: #733986;
    line-height: 300%;
    border-radius: 15px;
    border: solid 1.5px #733986;
        padding: 4px 15px 4px 15px;   
}
.feroferta:focus, .ferofertax:focus,.feroferta:hover, .ferofertax:hover, .ferofertax:active{
    border-color: #79c4de;
    outline: none;
    background: white;
}


#gpvi, #vprei, #send, #back{
    font-family: 'Poppins', sans-serif;
    /* background: #D1DA28; */
    font-size: 12px;
    padding: .9%;
    /* color: #100925; */
    /* border: 0; */
    border-radius: 30px;
    /* outline: none; */
    border: .1px solid #dedede;
}


.hoverme:hover:not(.back)
{
  transform: translate(7%,8%)scale(1.1);
  background-size: 180%;
  background-position: 60% 0%;
  transition: all .15s ease-out;
}
/* Social Icons */
.social_side_links {
    position: fixed;
    top: 85%;
    right: 0;
    padding: 0;
    list-style: none;
    z-index: 99;
}

.social_side_links li a {display: block;}

.social_side_links li a img {
    display: block;
    max-width:40px;
  padding: 10px;
  -webkit-transition:  background .2s ease-in-out;
  -moz-transition:  background .2s ease-in-out;
  -o-transition:  background .2s ease-in-out;
  transition:  background .2s ease-in-out;
}
h4 {
    font-size: 16px;
}
.close{
    font-size: 21px;
}
.modal-open .modal {

    width: 80%;
    left: 10%;
    right: 10%;

}
a, a:focus
{
    outline:none;
}
.lookupInput{
    display: inline-flex;
    justify-content: center;
    width: 90%;
}
.lookupInput img
{
    content:url("https://static1.squarespace.com/static/5534123ce4b099684bedd68d/t/55343200e4b078bae80af3fb/1429484033789/lookup_icon.png");
    width: 30px;
}
.navicon
{
content: url('https://image.flaticon.com/icons/svg/403/403530.svg');
width: 50px;
}
.back
{
transform: rotate(180deg);
}
span[class="validate"]
{
    display: flex;
}
/*.centrame
{
    margin-left: 20%;
        top: -.2rem!important;
}*/
.calculate
{
    width: 50px;
}
select
{
    height: 2rem !important;
}
form p
{
    text-align: center!important;
}
</style>
<script type="text/javascript">
    function nextbtn()
    {
        var x=$('[id*="ofertatipo"]').val();
        var y=$('[id*="cliente"]').val();
        if (x!=''&&x!=null)
        {
            $('#xdi').show();
        }
        else
        {
            $('#xdi').hide();
        }
    }
    function broke(x)
    {
        var y=x.value;
        $('[Id*="broke"]').html('');
        if(y>0.1)
        {
            $('[Id*="broke"]').val(y/100);
        }
    }

</script>
<body>
<div class="form">
<!-- <center><h1 style="font-size: 30px; font-family: 'Bebas-Neue';">Generar Autorización</h1></center><br/> -->

    <input id="one" type="radio" name="stage" checked="checked" disabled="true" />
    <input id="two" type="radio" name="stage" disabled="true" />
    <input id="three" type="radio" name="stage" disabled="true"  />


    <div class="stages">
        <label id="luno" for="one" ><br/>Tipo de Autorización</label>
        <label id="ldos" for="two">Datos</label>
        <label id="ltre" for="three">Vista/Envío</label>
    </div>

    <center><apex:pageMessages id="showmsg" ></apex:pageMessages></center>

<span class="progress"><span></span></span>
    <div class="panels">
            <div data-panel="one">

                <center>
                    <h1>Tipo de Autorización</h1><br/>

                    <apex:form rendered="true">
                        <apex:selectList value="{!tipoauto}" size="1" styleClass="fer type" title="Selecciona un tipo de autorización" id="principal">
                            <apex:selectOptions value="{!opciones}"/>
                        </apex:selectList> 
                        <apex:actionFunction action="{!guardartipo}" name="guardartipo" reRender="out" /><br/>

                    </apex:form> 
      <!--               <button id="xt" type="button" onclick="guardartipo();" >Siguiente</button> -->
                <a><img id="xti" src="" onclick="guardartipo();" class="navicon hoverme" />
                </a>
                </center>
            </div> 


    <div data-panel="two" >
        <apex:outputPanel id="out" >
        <center>

            <apex:form id="myf2" rendered="{!if(tipoo='Ofertas', true, false)}" >
                <h1>Tipo de Oferta </h1>
                <apex:inputField value="{!acct.TipoOferta__c}" styleclass="fer" id="ofertatipo" />
                <h1>Lead Cliente </h1>
                <apex:inputField value="{!autorizacion.clienteoferta__c}" id="cliente" styleClass="fer" html-disabled="disabled" /><br/> 
                <script type="text/javascript">
                    $('.lookupIcon').click(function()
                    {
                        nextbtn();
                    });
                </script>
                <h1>Monto Ofertado </h1>
                <apex:inputText value="{!acct.MontoCredito__c}" id="monto" onkeyup="blk(this); " styleClass="fer"/><br/> 
                <h1> Comentarios</h1>
                <apex:inputText value="{!comentariosgasto}"  styleClass="fer" />
                <apex:actionFunction action="{!guardar}" name="guardar" reRender="generada" />
            </apex:form>

        </center>

            <apex:form id="myf3" rendered="{!if(tipoo='Carta de Instrucción', true, false)}">
                            <center><h1>Carta de Instrucción</h1>
                                <p style="color: red;"><apex:outputText rendered="{!if(acct.Notaria_Ventas__c==null, true,false)}" >Llenar Campo Notaría Ventas</apex:outputText></p>
                                <!-- <h1>Monto de Operación </h1><br/> --><br/>
                                <apex:outputPanel rendered="{!if(ef.TipoOferta__c=='Contado',true,false)}">
                                <h1>Monto Contado:</h1>
                                <apex:inputText value="{!acct.MontoContado__c}"  styleClass="fer" onkeyup="saveme(this.value);"/>
                                </apex:outputPanel>
                                <apex:outputPanel rendered="{!if(ef.TipoOferta__c!='Contado',true,false)}">
                                <h1>Monto Crédito:</h1>
                                <apex:inputText value="{!acct.MontoCredito__c}"  styleClass="fer" onkeyup="saveme(this.value);"/>
                                </apex:outputPanel><br/>
                                <!--                 <h1>Titular Notaría:</h1><br/>
                                <apex:inputText value="{!notaria}"  styleClass="fer" /><br/> -->
                                <h1> Comentarios</h1>
                                <apex:inputText value="{!comentariosgasto}"  styleClass="fer" />

                                <!--        <h5>Empresa</h5><br/>
                                <apex:inputField value="{!acct.Paquete__r.Empresas_Grupo__c}"  styleClass="fer5" />
                                <h5>Ubicación</h5><br/>
                                <apex:inputTextarea value="{!acct.Direccion2__c}" styleClass="fer" />
                                <h5>Plaza</h5><br/>
                                <apex:inputField value="{!acct.Propiedad__r.Plaza__c}"  styleClass="fer2" />
                                <h5>Cliente</h5><br/>
                                <apex:inputField value="{!acct.ClienteFinal__c}"  styleClass="fer5" /> -->
                            </center>
                            <apex:actionFunction name="saveme" reRender="">
                            <apex:param name="save" assignTo="{!monto}" value=""/>
                            </apex:actionFunction>

                            <apex:actionFunction action="{!guardar}" name="guardar" reRender="generada" />
            </apex:form>

            <apex:form id="myf4" rendered="{!if(tipoo='Gastos', true, false)}">
            <apex:outputPanel id="limitLabel">
           <script type="text/javascript">
                 function ulk(z)
                            {
                                var field=$("[id*='MontoGasto']").val();
                                if(field.length<1)
                                {
                                    $('#xdi').hide();
                                }

                                field=parseInt(field);
                                var max='0{!ammount}';
                                max=parseInt(max);
                                if (field>max)
                                {
                                    // $('#xdi').hide();
                                    $('#msgLimit').text('Error el Monto Máximo para este gasto es: $'+max);
                                }
                                else
                                {
                                    // if(field>50)
                                    // {
                                        $('#xdi').show();
                                    // }
                                    $('#msgLimit').text('');
                                }
                            }
            </script>
            </apex:outputPanel>
                    <center>
                    <!-- <h1>Gasto</h1> -->
                    <span id="msgLimit" style="color: red;"></span>
                    <br/>
                   
                    <h1>Concepto </h1>
                    <apex:inputField value="{!autorizacion.ConceptoGasto__c}" id="concepto"  styleClass="fer" onchange="getId();"/>
                    <script>
                        function getId()
                        {
                            $('#montoG').show();
                            $("[id*='MontoGasto']").val(null);
                            $('#xdi').show();
                            var x=$("[id*='concepto']").val();
                            // $("[id*='MontoGasto']").show();
                            setId(x);
                        }
                           
                    </script>
                    <span id="montoG" hidden="hidden">
                     <h1>Monto</h1>
                    <apex:inputText value="{!montogastos}"  styleClass="fer" onkeyup="this.value = this.value.replace(/[^0-9]/g,''); ulk();" id="MontoGasto" />
                    </span>
                    <apex:actionFunction name="setId" reRender="" oncomplete="getLimit();">
                    <apex:param name="SetId" assignTo="{!catalogId}" value=""/>
                    </apex:actionFunction>
                    <apex:actionFunction name="getLimit" action="{!getLimit}" reRender="limitLabel" />
<!--                     onfocus="$('.lookupInput img').click(); quita();" -->
                    <script type="text/javascript">
                    // $('[id*="concepto"]').on('change',function()
                    // {
                    //    $('[id*="concepto"]').blur();
                    // });
                        // function quita()
                        // {
                        //     $('[id*="concepto"]').blur();
                        //     $('[id*="concepto"]').removeAttr('onfocus');
                        // }
                    </script>
                    <h1> Comentarios</h1>
                    <apex:inputText value="{!comentariosgasto}"  styleClass="fer" />
                    <apex:actionFunction action="{!guardar}" name="guardar" reRender="generada" />

                    </center><br/>

            </apex:form>

            <apex:form id="myf5" rendered="{!if(tipoo='Rehabilitación', true, false)}">
            <apex:iframe src="{!URLFOR($Page.AutorizacionFiles)}?id={!acct.id}" scrolling="true"  height="280">

            </apex:iframe>
                        <apex:actionFunction name="guardarehab" action="{!getRhData}" reRender="generada"/>
            </apex:form>

                        <apex:form id="myf6" rendered="{!if(tipoo=='Devolución', true, false)}">
           
                            <center><h1>Devolución</h1>
                                <table cellpadding="0"  width="100%" class="centered responsive-table">
                                    <thead>
                                        <tr>
                                            <td>
                                                <apex:outputLabel for="infonav" styleclass="active centrame">Déposito Infonavit</apex:outputLabel>
                                                <apex:outputText value="${0, number, 0,000}" id="infonav" styleClass="validate">
                                                    <apex:param value="{!CEILING(ef.MontoCredito__c)}"/>
                                                </apex:outputText>
                                                
                                            </td>
                                            <td>
                                                <apex:outputLabel for="prev" styleclass="active centrame">Precio de Venta</apex:outputLabel>
                                                <apex:outputText value="${0, number, 0,000}" id="prev" styleClass="validate">
                                                    <apex:param value="{!CEILING(ef.PrecioVenta__c)}"/>
                                                </apex:outputText>                                          
                                            </td>
                                            <td>
                                                
                                            </td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>
                                                <apex:outputLabel for="Diferencia" styleclass="active centrame">Diferencia</apex:outputLabel>
                                                <apex:outputText value="$" id="Diferencia" styleClass="validate"/>   
                                            </td>
                                            <td>
                                                <apex:outputLabel for="Retenc" styleclass="active centrame">Retención 16%</apex:outputLabel>
                                                <apex:outputText value="$" id="Retenc" styleClass="validate"/>   
                                            </td>

                                        </tr>
                                        <tr>
                                            <td>
                                                <apex:outputLabel for="Subtotal" styleclass="active centrame">Subtotal Devolución</apex:outputLabel>
                                                <apex:outputText value="$" id="Subtotal" styleClass="validate"/>   
                                            </td>
                                            <td>
                                                <apex:outputLabel for="Aval" styleclass="active centrame">Avalúo Devolución</apex:outputLabel>
                                                <apex:outputText value="$" id="Aval" styleClass="validate"/>   
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <apex:outputLabel for="clg" styleclass="active centrame">CLG Devolución</apex:outputLabel>
                                                <apex:outputText value="$" id="clg" styleClass="validate"/>                                              
                                            </td>
                                            <td>
                                                <apex:outputLabel for="totaldev" styleclass="active centrame">Total Devolución</apex:outputLabel>
                                                <apex:outputText value="$" id="totaldev" styleClass="validate"/>                                              
                                            </td>                                        
                                        </tr>
                                    </tbody>
                                </table>
                            </center>

                                <br/>
                                <br/>


                            <apex:actionFunction name="saveme" reRender="">
                            <apex:param name="save" assignTo="{!monto}" value=""/>
                            </apex:actionFunction>

                            <apex:actionFunction action="{!guardar}" name="guardar" reRender="generada" />
            </apex:form>


        </apex:outputPanel>
    </div>

    <div data-panel="three">   
<!--         <center><font style="font-size: 1.2em;
    color: #0c326b;">Gastos Considerados</font></center> <br/> --><br/>
        <a id="titulo" title="Pulsa para desplegar">Información de Autorización</a>

            <div id="contenido">
            <apex:outputPanel id="generada">
            <apex:form rendered="{!if(tipoo='Ofertas', true, false)}">
            <center>
            <apex:iframe scrolling="true" id="fgo" height="350" title="Vista Previa" html-hidden="hidden"/><br/>

            <table id="tablita" cellpadding="0"  width="100%" class="centered responsive-table">
            <thead>
             <tr>
                 <td>
                    <div class="input-field col s6" >
                        <apex:inputText id="precioventa" value="{!pv}" styleClass="validate round" />
                        <apex:outputLabel for="precioventa" styleclass="active">Precio de venta</apex:outputLabel>
                    </div>
                 </td>

                 <td>
                    <div class="input-field col s6" >
                        <apex:outputText value="${0, number, 0,000}" id="saneamiento" styleClass="validate">
                            <apex:param value="{!acct.Saneamiento__c}"/>
                        </apex:outputText>
                        <apex:outputLabel for="saneamiento" styleclass="active centrame">Saneamiento</apex:outputLabel>
                    </div>
                </td>

                <td >
                    <div class="input-field col s6" >
                        <apex:outputText value="{!tp}" id="tipoofe" styleClass="validate"/>
                        <apex:outputLabel for="tipoofe" styleclass="active centrame">Tipo de Oferta</apex:outputLabel>
                    </div>
                </td>

                <td>
                    <div class="input-field col s6" >
                        <apex:outputPanel id="gastos">
                            <apex:outputText value="${0, number, 0,000}" id="gastoslabel" styleClass="validate">
                                <apex:param value="{!gastos.costos__c}"/>
                            </apex:outputText>
                        </apex:outputPanel> 
                        <apex:outputLabel for="gastoslabel" styleclass="active centrame">Gastos</apex:outputLabel>
                    </div>                
                </td>

                <td>
                    <div class="input-field col s6" >
                        <apex:outputPanel id="ine">
                            <apex:outputText value="${0, number, 0,000}" id="ingresolabel" styleClass="validate">
                                <apex:param value="{!ine}"/>
                            </apex:outputText>
                        </apex:outputPanel> 
                        <apex:outputLabel for="ingresolabel" styleclass="active centrame">Ingreso Neto</apex:outputLabel>
                    </div>   
                </td>

             </tr>
             </thead>
             <tbody>
              <tr>
                 <td>
                     <apex:outputPanel id="aco" layout="block" styleClass="input-field col s6">
                            <apex:inputText id="adeudoslabel1" value="{!acct.CosteAdeudos__c}" styleClass="validate round" />
                            <apex:outputLabel for="adeudoslabel1" styleclass="active">Adeudos Compra</apex:outputLabel>
                    </apex:outputPanel>
                 </td>
                 <td>
                    <apex:outputPanel id="ave" layout="block" styleClass="input-field col s6">
                            <apex:inputText id="adeudoslabel2" value="{!acct.CosteAdeudosVenta__c}" styleClass="validate round" />
                            <apex:outputLabel for="adeudoslabel2" styleclass="active">Adeudos Venta</apex:outputLabel>
                     </apex:outputPanel>
                 </td>
                 <td>
                    <apex:outputPanel id="hon" layout="block" styleClass="input-field col s6">
                            <apex:inputText id="honorarioslabel" value="{!acct.CosteHonorariosNotaria__c}" styleClass="validate round" />
                            <apex:outputLabel for="honorarioslabel" styleclass="active">Hon. Notaría</apex:outputLabel>
                     </apex:outputPanel>
                 </td>

                 <td>
                    <apex:outputPanel id="cbro" layout="block" styleClass="input-field col s6">
                            <apex:outputtext id="brokerlabel"  value="${0, number, 0,000}" styleClass="validate round">
                                <apex:param value="{!gastos.comisioncomercial__c}"/>
                            </apex:outputtext>
                            <apex:outputLabel for="brokerlabel" styleclass="active">Com. Broker</apex:outputLabel>
                     </apex:outputPanel>
                </td>
                <td>
                    <apex:outputPanel layout="block" styleClass="input-field col s6">
                            <apex:outputtext id="Referencialabel"  value="${0, number, 0,000}" styleClass="validate">
                                <apex:param value="{!acct.ValorReferencia__c}"/>
                            </apex:outputtext>
                            <apex:outputLabel for="Referencialabel" styleclass="active">V.Referencia</apex:outputLabel>
                     </apex:outputPanel>
                </td>
             </tr>
             <tr>
                 <td>
                    <apex:outputPanel id="ino" layout="block" styleClass="input-field col s6">
                            <apex:inputText id="impnotlabel"  value="{!acct.CosteImpuestosNotaria__c}" styleClass="validate round"/>
                            <apex:outputLabel for="impnotlabel" styleclass="active">Impuestos Notaría</apex:outputLabel>
                     </apex:outputPanel>
                 </td>
                 <td>
                    <apex:outputPanel id="ade" layout="block" styleClass="input-field col s6">
                            <apex:inputtext id="desalojolabel"  value="{!costo}" styleClass="validate round"/>
                            <apex:outputLabel for="desalojolabel" styleclass="active">Adeudos Desalojo</apex:outputLabel>
                     </apex:outputPanel>
                 </td>
                 <td>
                    <apex:outputPanel id="reh" layout="block" styleClass="input-field col s6">
                            <apex:inputText id="rehablabel"  value="{!acct.CosteRehabilitacion__c}" styleClass="validate round"/>
                            <apex:outputLabel for="rehablabel" styleclass="active">Rehabilitación</apex:outputLabel>
                     </apex:outputPanel>
                 </td>
                 <td>
                    <apex:outputPanel rendered="{!OR(tp=='Crédito Infonavit', tp=='Infonavit')}" layout="block" styleClass="input-field col s6">
                            <apex:outputtext id="poriginallabel"  value="${0, number}" styleClass="validate">
                                <apex:param value="{!acct.Precio_Original__c}"/>
                            </apex:outputtext>
                            <apex:outputLabel for="poriginallabel" styleclass="active">P. Original</apex:outputLabel>
                     </apex:outputPanel>
                 </td>
                 <td>
                    <apex:outputPanel id="mes" layout="block" styleClass="input-field col s6">
                            <apex:outputtext id="percentlabel"  value="{0, number}%" styleClass="validate">
                                <apex:param value="{!gastos.margenneto__c}"/>
                            </apex:outputtext>
                            <apex:outputLabel for="percentlabel" styleclass="active">% Margen Neto</apex:outputLabel>
                     </apex:outputPanel>
                </td>
             </tr>
             <tr>
                 <td>
                    <apex:outputPanel layout="block" styleClass="input-field col s6">
                            <apex:inputtext id="pluslabel"  value="{!plus}" styleClass="validate round"/>
                            <apex:outputLabel for="pluslabel" styleclass="active">Plus Venta</apex:outputLabel>
                     </apex:outputPanel>
                 </td>
                 <td>
                    <apex:outputPanel layout="block" styleClass="input-field col s6">
                            <apex:inputtext id="comlabel"  value="{!comisiongerente}" styleClass="validate round"/>
                            <apex:outputLabel for="comlabel" styleclass="active">$ Com. Gte/Ejec</apex:outputLabel>
                     </apex:outputPanel>
                 </td>
                 <td>
                    <apex:outputPanel layout="block" styleClass="input-field col s6">
                            <apex:inputtext id="broke"  value="{!broker}" styleClass="validate" onkeyup="broke(this);"/>
                            <apex:outputLabel for="broke" styleclass="active">% Com. Broker</apex:outputLabel>
                     </apex:outputPanel>
                 </td>
                 <td>
                    <apex:outputPanel id="ben" layout="block" styleClass="input-field col s6">
                            <apex:outputtext id="beneflabel"  value="${0, number, 0,000}" styleClass="validate round">
                                <apex:param value="{!gastos.Beneficio__c}"/>
                            </apex:outputtext>
                            <apex:outputLabel for="beneflabel" styleclass="active">Beneficio</apex:outputLabel>
                     </apex:outputPanel>
                </td>
                <td>
                    <apex:outputPanel id="mre" layout="block" styleClass="input-field col s6">
                            <apex:outputtext id="reflabel"  value="{0, number}%" styleClass="validate round">
                                <apex:param value="{!gastos.margenreferencia__c}"/>
                            </apex:outputtext>
                            <apex:outputLabel for="reflabel" styleclass="active">% Margen Ref.</apex:outputLabel>
                     </apex:outputPanel>
                </td>
             </tr>
                 
<!--  <tr>
<td ><apex:outputPanel id="gen">
<table width="100%"><tr><td width="50%">Gastos:</td><td width="50%"> <apex:outputText value="${0, number, 0,000}" styleClass="fv">
<apex:param value="{!gastos.costos__c}"/>
</apex:outputText></td></tr></table></apex:outputPanel>
</td>
</tr>-->
<!--<tr>
<td>
<apex:outputPanel id="gen2"> <table width="100%"><tr><td width="50%">
Ingreso Neto:  </td><td width="50%"> <apex:outputText value="${0, number, 0,000}" styleClass="fv" >
<apex:param value="{!ine}"/>
</apex:outputText></td></tr></table></apex:outputPanel>
</td>
</tr> 
<-->        </tbody>
        </table>
            </center>
 <apex:actionFunction action="{!validar}" name="genera" reRender="gastos,ine,showmsg,cbro,mes,ben,mre,ave,ade,ino,hon,aco,reh" />
            </apex:form>

            
            <apex:form rendered="{!if(tipoo='Carta de Instrucción', true, false)}" id="cartita">
            <script type="text/javascript">
                // $('#vcarta').ready(function (){ $('#vcarta').click(); }) ;
            </script>
<!-- 
            <p>Clabe Banco        {!cla} </p>
            <p>Oferta             {!acct.name} </p>
            <p>Id de autorización {!res} </p>
            <p>Tipo {!tipo} </p> -->
            <apex:iframe scrolling="true" id="f" height="320" title="Vista Previa"  html-hidden="hidden"/>

            <apex:commandLink action="{!abrir}" target="f" id="xppp"> 
            <button id="vcarta" type="button"  onclick="$('#f').show();$('#fg').prop('title','');$('#send').show(); " hidden="hidden">V. Previa</button><br/>
            </apex:commandLink>
            <apex:actionFunction action="{!abrir}" name="abrir" reRender="" >
            </apex:actionFunction>
            <apex:actionFunction action="{!estatus}" name="pendiente" reRender="generada" >
            </apex:actionFunction>
            </apex:form>
            <apex:form rendered="{!if(tipoo='Gastos', true, false)}">
            <apex:iframe scrolling="true" id="fg" height="320" title="Vista Previa" html-hidden="hidden"/>

            <apex:commandLink action="{!abrir}" target="fg"> 
            <button id="vgastos" type="button" onclick="$('#fg').show();$('#f').prop('title','');$('#send').show(); " hidden="hidden">V. Previa</button><br/>
            </apex:commandLink>
            <apex:actionFunction action="{!abrir}" name="abrir" reRender="false" >
            </apex:actionFunction>
            <apex:actionFunction action="{!estatus}" name="pendiente" reRender="generada">

            </apex:actionFunction>
            </apex:form>

            <apex:form rendered="{!if(tipoo='Rehabilitación', true, false)}">
            <apex:iframe scrolling="true" id="fgr" height="320" title="Vista Previa" html-hidden="hidden"/>

            <apex:commandLink action="{!abrir}" target="fgr"> 
            <button id="vrh" type="button" onclick="$('#fgr').show(); $('#send').show(); " hidden="hidden">V. Previa</button><br/>
            </apex:commandLink>
            <apex:actionFunction action="{!abrir}" name="abrir" reRender="false" >
            </apex:actionFunction>
            <apex:actionFunction action="{!estatus}" name="pendiente" reRender="generada">

            </apex:actionFunction>
            <apex:actionFunction name="rehab" action="{!updRh}" reRender=""/>
            </apex:form>


<script type="text/javascript">
function source(x) 
    {
        var url='{!URLFOR("/apex/auth?recentAuth=")}'+'{!res}';
        $('#redirect').attr('href',url);
    }

    $('#myModal').on('shown.bs.modal', function() {
        var xe=$("[id*='principal']").val();
        if(xe!='Rehabilitación')
        {
        var x='{!res}';
        }
        else
        {
            x='{!rehabAutoId.id}';
        }

        var iframeArchivos = $('<iframe />').attr('src', encodeURI('/apex/AutorizacionFiles?filesId=' + x +'&loader=true'));
        iframeArchivos.attr('width','100%');
        iframeArchivos.attr('height','200px');
        iframeArchivos.attr('scrolling','true');
        iframeArchivos.attr('frameborder' ,'0');
        $("#modalfiles").html(iframeArchivos);
    });

</script>
            </apex:outputPanel> 
            </div>

        <div id="dialog" title="Enviar">
        <p>Envíado, Autorización Pendiente</p>
            <center>
                <a target="_blank" id="redirect">
                    <img id="ok" src="https://www.cnt.gob.ec/telefonia/wp-content/themes/cnt-theme/assets/images/all_ok.png" onclick="$('#dialog').dialog( 'close' ); " />
                </a>
            </center>
        </div>

     </div>
     <apex:form >
                 <center><br/>
<!-- <
                     <button id="dx" type="button" hidden="hidden" onclick="$('#back').hide(); $('#gpvi').hide(); $('#filesbtn').hide(); $('.message').hide();">Regresar</button> -->
                     <a>
                     <img id="dxi"  hidden="hidden" src="" onclick="$('#back').hide(); $('#gpvi').hide(); $('#filesbtn').hide(); $('.message').hide();" class="navicon hoverme back" />
                     </a>
                    <a>
                     <img id="xpi"  hidden="hidden" src="" onclick="$('#back').hide(); $('#gpvi').hide(); $('#filesbtn').hide(); $('.message').hide();" class="navicon hoverme back" />
                     </a>

<!--                     
                     <button type="button" hidden="hidden" onclick="$('#back').hide(); $('#gpvi').hide(); $('#filesbtn').hide(); $('.message').hide();">Regresar</button> -->
                    <a>
                     <img id="xdi"  hidden="hidden" src="" onclick=" guardar();" class="navicon hoverme leadcliente" />
                     </a>
<!--                      <button id="xd"  class="gastobtn">Siguiente</button> -->

                     
                
                       
                        <apex:actionFunction action="{!estatus}" name="pendiente" reRender="generada" />
                         
<!--                  <button id="send" type="button" hidden="hidden" onclick="enviar(); $('#vprei').hide(); $('#back').hide(); source();" title="Enviar y Guardar Autorización">Enviar</button> -->

                    <a>
                     <img id="send"  hidden="hidden" src="https://yt3.ggpht.com/-fOtk7BlMIJg/AAAAAAAAAAI/AAAAAAAAAAA/hL6YiFj2Lys/s900-c-k-no-mo-rj-c0xffffff/photo.jpg" onclick="enviar(); $('#vprei').hide(); $('#back').hide(); source();" title="Enviar y Guardar Autorización" class="hoverme calculate"/>
                     </a>  
                        <apex:commandLink action="{!abrir}" target="fgo"> 
                           <!--  <button id="vpre" hidden="hidden" type="button" onclick="$('#vprei').hide(); $('#tablita').hide(); $('#ofertac').hide(); $('#fgo').show();
                            $('#back').show(); $('#gpvi').hide(); $('#info').hide(); $('.message').hide();">V. Previa</button> -->
                
                     <img id="vprei"  hidden="hidden" src="https://www.iconexperience.com/_img/g_collection_png/standard/512x512/document_view.png" onclick="$('#vprei').hide(); $('#tablita').hide(); $('#ofertac').hide(); $('#fgo').show();
                            $('#back').show(); $('#gpvi').hide(); $('#info').hide(); $('.message').hide();" class="hoverme calculate" />
             
                        




                        </apex:commandLink>
<!--                         <button id="back" hidden="hidden" type="button" >Editar</button> -->

                    <a>
                     <img id="back"  hidden="hidden" src="https://png.icons8.com/color/1600/edit-file" onclick="$('#back').hide(); $('#vprei').show(); $('#fgo').hide(); 
                        $('#oo').show(); $('#tablita').show(); $('#ofertac').show();
                        $('#info').show(); $('#gpvi').show();
                        " title="Editar" class="hoverme calculate"/>
                     </a>  

  <!--                       <button id="gpv" type="button" hidden="hidden" onclick="generar();">Calcular</button> -->
                     <a>
                     <img id="gpvi"  src="https://assets-blog.fundera.com/assets/wp-content/uploads/2017/06/08175243/calculator-blue%402x.png" width="35" hidden="hidden" onclick="generar();" class="calculate hoverme" />
                     </a>
                        <ul class="social_side_links" id="filesbtn" hidden="hidden">
                            <li>
                                <img class="hoverme"  src="https://image.flaticon.com/icons/svg/190/190705.svg" width="50px" height="50px" data-toggle="modal" data-target="#myModal"/>
                            </li>
                        </ul>
                        
                        <apex:actionFunction action="{!abrir}" name="abrir" reRender="false" >
                        </apex:actionFunction>
                        </center>
    </apex:form>






</div>
<script type="text/javascript">
    function fun () {
            var x=$("[id*='principal']").val();
                if (x=='Carta de Instrucción')
                {
                   $('#vcarta').click(); 
                }
                if (x=='Gastos')
                {
                   $('#vgastos').click(); 
                }
                if (x=='Rehabilitación')
                {
                   $('#vrh').click(); 
                }
            }

$("#xdi").click(function () {

               // Code to do stuff immediately
               var x=$("[id*='principal']").val();
               if (x=='Carta de Instrucción')
                {
                    setTimeout(fun, 700);
                }
                if(x=='Gastos')
                {
                    setTimeout(fun, 800);
                }
                if(x=='Rehabilitación')
                {
                    setTimeout(fun, 800);
                }

               
            });
</script>
 




        </div>
<div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">

    <!-- Modal content-->
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Archivos Adjuntos</h4>
            </div>
        <div class="modal-body">

             <!--Carga de Archivos -->
            <div id="modalfiles">
            </div>


        </div>

        <div class="modal-footer">
        <!--         <apex:commandbutton action="{!upload}" value="Cargar" rerender=""/><br/> -->
        </div>

        </div>

    </div>

</div>
<!--             <apex:form id="myf5" rendered="{!if(tipoo='Rehabilitación', true, false)}"> -->



<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js"></script>
</body>
</apex:page>